<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Products App</title>
    <style>
body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
.container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
h1 { text-align: center; color: #333; margin-bottom: 30px; }
#products-container { margin-top: 20px; }
ul { list-style: none; padding: 0; margin: 0; }
li { border: 1px solid #e0e0e0; padding: 20px; margin: 15px 0; border-radius: 8px; background: #fafafa; }
h3 { margin: 0 0 10px 0; color: #333; }
p { margin: 0 0 15px 0; color: #666; }
img { max-width: 200px; height: auto; display: block; margin: 10px 0; border-radius: 4px; border: 1px solid #ddd; }
button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
button:hover { background: #0056b3; }

ul {
    padding: 0;
    margin: 20;
}
li {
    border: 1 #ccc;
    padding: 15;
    margin: 10;
    background: #f9f9f9;
}
h3 {
    color: #333;
}
p {
    color: #666;
}
img {
    width: 100;
    height: 100;
    margin: 10;
}
button {
    background: #007bff;
    color: #0f0f0f;
    padding: 8;
}
    </style>
</head>
<body>
    <div class="container">
        <h1>Products</h1>
        <div id="products-container">
            <!-- سيتم ملء المحتوى ديناميكياً -->
        </div>
    </div>
    <script>
// بيانات المنتجات
const productsData = [
    {
        name: "laptop",
        desc: "High performance",
        image: "https://i.pinimg.com/1200x/6d/f6/84/6df684f8427dd671088a474ac9d8de93.jpg"
    },
    {
        name: "Phone",
        desc: "Latest model",
        image: "https://cdn.pixabay.com/photo/2017/01/22/19/20/smartphone-2007617_1280.jpg"
    },
    {
        name: "Tablet",
        desc: "Lightweight and fast",
        image: "https://cdn.pixabay.com/photo/2015/01/21/14/14/ipad-606764_1280.jpg"
    }
];

// القالب الديناميكي المستخرج
const itemTemplate = `<h3>{{prod.name}}</h3><p>{{prod.desc}}</p><img src="prod.image" /><button onclick="handleProductClick(this)">Details</button>`;

// دالة لعرض المنتجات
function renderProducts() {
    const container = document.getElementById('products-container');
    if (!container) return;

    let html = '';

    if (productsData.length === 0) {
        html = '<p>No products available</p>';
    } else {
        productsData.forEach(product => {
            let itemHtml = itemTemplate;
            
            // استبدال الـ interpolations
            itemHtml = itemHtml.replace(/{{prod\.name}}/g, product.name || '');
            itemHtml = itemHtml.replace(/{{prod\.desc}}/g, product.desc || '');
            itemHtml = itemHtml.replace(/{{prod\.image}}/g, product.image || '');
            
            // استبدال الـ property bindings للصور
            itemHtml = itemHtml.replace(/src="PRODUCT_IMAGE_URL"/g, 'src="' + (product.image || '') + '"');
            
            html += itemHtml;
        });
    }

    container.innerHTML = '<ul>' + html + '</ul>';
}

// دالة لاختيار المنتج
function handleProductClick(button) {
    const productElement = button.closest('li');
    if (productElement) {
        const productName = productElement.querySelector('h3')?.textContent || 
                          productElement.querySelector('h1, h2, h4, h5, h6')?.textContent ||
                          'Unknown Product';
        
        const product = productsData.find(p => p.name === productName);
        if (product) {
            const message = `Product Details:\\n\\n` +
                          `Name: ${product.name}\\n` +
                          `Description: ${product.desc}\\n` +
                          `Image URL: ${product.image}`;
            alert(message);
            localStorage.setItem('selectedProduct', JSON.stringify(product));
        }
    }
}

// تهيئة التطبيق
document.addEventListener('DOMContentLoaded', function() {
    console.log('Products data:', productsData);
    console.log('Item template:', itemTemplate);
    renderProducts();
});    </script>
</body>
</html>